## 21. How can you check the container’s resource usage?

### Explanation:
You can monitor container resource usage (CPU, memory, I/O, etc.) using the `docker stats` command.

### Example Command:
```bash
docker stats
````

This gives a real-time view similar to the Linux `top` command.

### Real-World Example:

In our production environment, we used `docker stats` to identify a container consuming excessive memory due to a memory leak in a Python process.

---

## 22. What are the lifecycle states of a Docker container?

### Explanation:

A container goes through multiple states during its lifecycle.

**States:**

1. Created
2. Running
3. Paused
4. Restarting
5. Exited
6. Dead

### Example Commands:

```bash
docker ps -a
docker inspect <container_id> | grep Status
```

### Real-World Example:

During CI/CD testing, we used `docker ps -a` to verify containers that exited unexpectedly and collected logs for debugging.

---

## 23. What’s the difference between COPY and ADD in Dockerfiles?

### Explanation:

Both copy files into the image, but `ADD` provides extra features.

| Instruction | Purpose                                                  |
| ----------- | -------------------------------------------------------- |
| COPY        | Copies local files/directories into the container        |
| ADD         | Copies and can also fetch from URLs or extract tar files |

### Example:

```dockerfile
COPY app.jar /app/
ADD app.tar.gz /app/
```

### Real-World Example:

We prefer `COPY` for predictable behavior. We use `ADD` only when we need to extract a `.tar.gz` file during the image build process.

---

## 24. What are Docker labels used for?

### Explanation:

Labels are key-value metadata attached to images, containers, or other Docker objects.
They help in organization, automation, and filtering.

### Example Command:

```bash
docker run -d --label "env=prod" --label "version=1.0" nginx
docker inspect nginx | grep Labels -A3
```

### Real-World Example:

In our CI/CD setup, we labeled containers with environment details (`env=dev`, `env=prod`) to manage and filter them easily during monitoring.

---

## 25. What is the .dockerignore file and why is it useful?

### Explanation:

The `.dockerignore` file tells Docker which files or directories to **exclude** while building an image.
It improves performance and prevents unwanted files from being copied.

### Example:

```
node_modules
.git
.env
*.log
```

### Real-World Example:

We used `.dockerignore` in our Node.js project to skip uploading `node_modules` and Git history, which reduced image build time by 50%.

---

## 26. How do you handle environment variables in Docker?

### Explanation:

You can pass environment variables at runtime or define them in Dockerfiles or Compose files.

### Methods:

1. Using `-e` flag:

   ```bash
   docker run -e ENV=prod myapp
   ```
2. In Dockerfile:

   ```dockerfile
   ENV ENV=prod
   ```
3. In `docker-compose.yml`:

   ```yaml
   environment:
     - ENV=prod
   ```

### Real-World Example:

We passed database credentials as environment variables from Jenkins pipeline to ensure no secrets were hard-coded in Dockerfiles.

---

## 27. What is a multi-stage build in Docker and why is it useful?

### Explanation:

Multi-stage builds allow you to use multiple `FROM` statements in a Dockerfile to separate build and runtime environments.
It reduces final image size and improves security.

### Example:

```dockerfile
FROM maven:3.9 AS build
WORKDIR /app
COPY . .
RUN mvn clean package

FROM openjdk:17
COPY --from=build /app/target/myapp.jar /app/myapp.jar
CMD ["java", "-jar", "/app/myapp.jar"]
```

### Real-World Example:

We used multi-stage builds for our Java application — one stage to compile and another for runtime.
This reduced the image size from 700MB to 200MB.

---

## 28. How can you see which container is using which port?

### Explanation:

Use `docker ps` or `docker port` commands to view port mappings.

### Example Commands:

```bash
docker ps
docker port <container_id>
```

### Real-World Example:

When two services conflicted on port 8080, we used `docker ps` to identify the container already using that port and reassigned the new one to 8081.

---

## 29. How do you connect multiple containers using Docker Compose?

### Explanation:

Docker Compose automatically creates a network for all services defined in the same `docker-compose.yml` file.
Containers can communicate using their **service names**.

### Example `docker-compose.yml`:

```yaml
version: "3"
services:
  web:
    image: nginx
    ports:
      - "8080:80"
  db:
    image: mysql
    environment:
      - MYSQL_ROOT_PASSWORD=root
```

### Real-World Example:

In our web app setup, `web` container accessed `db` using the hostname `db` (not IP address), simplifying inter-container communication.

---

## 30. What is the purpose of a Docker registry?

### Explanation:

A Docker registry stores and manages Docker images. It can be **public** (like Docker Hub) or **private** (like AWS ECR, GitHub Container Registry).

### Example Commands:

```bash
docker login
docker tag myapp:v1 myrepo/myapp:v1
docker push myrepo/myapp:v1
```

### Real-World Example:

We used AWS Elastic Container Registry (ECR) to store our application images securely and integrated it with Jenkins pipelines for automated deployments.



