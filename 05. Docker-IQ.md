## 41. How do you make a container communicate with a host service?

### Explanation:
To allow a container to access a service running on the host, you can use the special DNS name `host.docker.internal` (on Windows/Mac) or host IP (on Linux).

### Example Commands:
```bash
# For Windows/Mac
curl http://host.docker.internal:8080

# For Linux
ip addr show docker0
curl http://<host_ip>:8080
````

### Real-World Example:

We connected a backend container to a database running on the host using:

```bash
DB_HOST=host.docker.internal
```

This allowed the containerized app to communicate with the host’s local MySQL instance.

---

## 42. How do you copy files from a container to the host?

### Explanation:

Docker provides the `docker cp` command to copy files between host and container.

### Example Commands:

```bash
docker cp <container_id>:/app/logs ./logs
docker cp ./config.json <container_id>:/app/config/
```

### Real-World Example:

After running a test container, we extracted generated reports:

```bash
docker cp test-container:/app/output ./reports
```

This helped us analyze test results without keeping the container running.

---

## 43. How do you remove all stopped containers?

### Explanation:

Stopped containers remain in the system until manually removed. You can remove them using the prune command.

### Example Commands:

```bash
docker container prune
```

or

```bash
docker rm $(docker ps -aq)
```

### Real-World Example:

Before running new Compose projects, we cleaned all stopped containers to avoid port conflicts:

```bash
docker container prune -f
```

---

## 44. What are container image layers?

### Explanation:

Docker images are built in layers. Each instruction in a Dockerfile (like `RUN`, `COPY`, `ADD`) creates a new read-only layer.

### Key Points:

* Layers are cached and reused between builds.
* Lower layers are shared across images to save space.
* Modifying a layer invalidates only that and above layers.

### Real-World Example:

In our builds, changing a single line in the Dockerfile (`RUN apt-get update`) rebuilt only that layer instead of the entire image, saving time.

---

## 45. What is a dangling image? How do you remove it?

### Explanation:

A **dangling image** is an image without a tag (`<none>`). These occur when new builds replace old image tags.

### Example Commands:

```bash
docker images -f dangling=true
docker image prune
```

### Real-World Example:

After multiple builds, we found several `<none>` images occupying GBs of space.
We scheduled cleanup using `docker image prune -f` to maintain build server hygiene.

---

## 46. How do you inspect the details of an image?

### Explanation:

The `docker inspect` command displays metadata like environment variables, layers, ports, and configuration.

### Example Command:

```bash
docker inspect nginx
```

### Real-World Example:

We used `docker inspect` to verify the environment variables and exposed ports of a base image before customizing it for our microservice.

---

## 47. What happens when two containers try to use the same port?

### Explanation:

If both containers attempt to map the **same host port**, the second container fails to start due to a port conflict.

### Example:

```bash
docker run -d -p 8080:80 nginx
docker run -d -p 8080:80 httpd   # Error: port already in use
```

### Real-World Example:

Our Jenkins build failed when two containers tried to use `8080`.
We resolved it by assigning a different host port using `-p 8081:80` for the second container.

---

## 48. What is the use of --link in Docker networking?

### Explanation:

`--link` is an older way to connect containers and allow them to communicate using environment variables.
It’s deprecated in favor of user-defined networks.

### Example Command:

```bash
docker run -d --name db mysql
docker run -d --name web --link db:mysql nginx
```

### Real-World Example:

We used `--link` in older setups for app-db communication before switching to custom bridge networks, which automatically manage DNS-based name resolution.

---

## 49. What’s the difference between docker exec and docker run?

### Explanation:

| Command       | Purpose                                            |
| ------------- | -------------------------------------------------- |
| `docker run`  | Creates and starts a new container                 |
| `docker exec` | Runs a command inside an already running container |

### Example:

```bash
docker run -it ubuntu bash        # Starts new container
docker exec -it myapp bash        # Enters existing container
```

### Real-World Example:

During troubleshooting, instead of recreating containers, we used:

```bash
docker exec -it backend bash
```

to inspect logs and configurations of the running backend service.

---

## 50. How do you update a Docker container with a new image version?

### Explanation:

You cannot directly update a running container’s image. You must recreate the container with the new image.

### Example Commands:

```bash
docker pull myapp:v2
docker stop myapp
docker rm myapp
docker run -d --name myapp -p 8080:8080 myapp:v2
```

### Real-World Example:

In our CI/CD pipeline, after pushing a new image version to ECR, Jenkins automatically stopped the old container and deployed the updated one using the new image tag.

Would you like me to compile all 50 into a single **Word (.docx)** or **Markdown (.md)** file for student distribution?
```
